{% extends 'base.html' %}
{% load static %}

{% block content %}
<main class="mx-auto px-4 py-6 max-w-screen-lg">

  <header class="mb-6 flex items-center justify-between">
    <h1 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white">Editar Contacto</h1>
    <a href="{% url 'backoffice:editar_cliente' contacto.cliente.id %}"
       class="inline-flex items-center gap-2 rounded-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-4 py-2 text-sm font-semibold text-gray-800 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-700">
      <i class="fa-solid fa-arrow-left"></i> Volver
    </a>
  </header>

  <form method="POST" action="" novalidate
        class="rounded-2xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 shadow-sm p-6">
    {% csrf_token %}

    <!-- Datos personales -->
    <h2 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Datos Personales</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 mb-6">
      <div>
        <label for="nombre" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Nombre</label>
        <input type="text" id="nombre" name="nombre" placeholder="Pedro"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.nombre }}">
      </div>
      <div>
        <label for="apellidos" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Apellidos</label>
        <input type="text" id="apellidos" name="apellidos" placeholder="Pérez López"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.apellidos }}">
      </div>
      <div>
        <label for="carnet_identidad" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Carné de Identidad</label>
        <input type="text" id="carnet_identidad" name="carnet_identidad" placeholder="90123456789"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.carnet_identidad }}">
      </div>
      <div>
        <label for="pasaporte_licencia" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Pasaporte / Licencia</label>
        <input type="text" id="pasaporte_licencia" name="pasaporte_licencia" placeholder="H1234567"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.pasaporte_licencia }}">
      </div>
    </div>

    <!-- Datos de contacto -->
    <h2 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Datos de Contacto</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 mb-6">
      <div>
        <label for="telefono_primario" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Teléfono Primario</label>
        <input type="tel" id="telefono_primario" name="telefono_primario" autocomplete="tel"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.telefono_primario }}">
      </div>
      <div>
        <label for="telefono_secundario" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Teléfono Secundario</label>
        <input type="tel" id="telefono_secundario" name="telefono_secundario"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.telefono_secundario }}">
      </div>
      <div>
        <label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Email</label>
        <input type="email" id="email" name="email" autocomplete="email" placeholder="contacto@ejemplo.com"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.email }}">
      </div>
      <div>
        <label for="nacionalidad" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Nacionalidad</label>
        <input type="text" id="nacionalidad" name="nacionalidad" placeholder="Cubana"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.nacionalidad }}">
      </div>
    </div>

    <!-- Dirección -->
    <h2 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Dirección</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 mb-2">
      <div>
        <label for="calle" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Calle</label>
        <input type="text" id="calle" name="calle"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.calle }}">
      </div>
      <div>
        <label for="numero" class="block text-sm font-medium text-gray-700 dark:text-gray-300">No.</label>
        <input type="text" id="numero" name="numero"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.numero }}">
      </div>
      <div>
        <label for="entre_calle" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Entre calle</label>
        <input type="text" id="entre_calle" name="entre_calle"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.entre_calle }}">
      </div>
      <div>
        <label for="y_calle" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Y calle</label>
        <input type="text" id="y_calle" name="y_calle"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.y_calle }}">
      </div>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 mb-2">
      <div>
        <label for="apto_reparto" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Apto / Reparto</label>
        <input type="text" id="apto_reparto" name="apto_reparto"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.apto_reparto }}">
      </div>
      <div>
        <label for="piso" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Piso</label>
        <input type="text" id="piso" name="piso"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.piso }}">
      </div>
      <div>
        <label for="municipio" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Municipio</label>
        <input type="text" id="municipio" name="municipio"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.municipio }}">
      </div>
      <div>
        <label for="provincia" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Provincia</label>
        <input type="text" id="provincia" name="provincia"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.provincia }}">
      </div>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 mb-6">
      <div>
        <label for="reparto" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Reparto</label>
        <input type="text" id="reparto" name="reparto"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.reparto }}">
      </div>
      <div>
        <label for="ciudad" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Ciudad</label>
        <input type="text" id="ciudad" name="ciudad"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.ciudad }}">
      </div>
      <div>
        <label for="estado" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Estado</label>
        <input type="text" id="estado" name="estado"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.estado }}">
      </div>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 mb-6">
      <div>
        <label for="zip_code" class="block text-sm font-medium text-gray-700 dark:text-gray-300">ZIP</label>
        <input type="text" id="zip_code" name="zip_code" autocomplete="postal-code"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.zip_code }}">
      </div>
    </div>

    <!-- Otros -->
    <h2 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Otros</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4">
      <div>
        <label for="fecha_nacimiento" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Fecha de Nacimiento</label>
        <input type="date" id="fecha_nacimiento" name="fecha_nacimiento"
               class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400"
               value="{{ contacto.fecha_nacimiento|date:'Y-m-d' }}">
      </div>
    </div>

    <div class="mb-6">
      <label for="observaciones" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Observaciones</label>
      <textarea id="observaciones" name="observaciones" rows="3" placeholder="Notas importantes…"
                class="mt-1 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400">{{ contacto.observaciones }}</textarea>
    </div>

    <!-- Acciones -->
    <div class="flex gap-2">
      <button type="submit"
              class="inline-flex items-center gap-2 rounded-full bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2 text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400">
        <i class="fas fa-save"></i> Guardar Cambios
      </button>
      <a href="{% url 'backoffice:editar_cliente' contacto.cliente.id %}"
         class="inline-flex items-center gap-2 rounded-full bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-100 px-5 py-2 text-sm font-semibold">
        <i class="fas fa-times-circle"></i> Cancelar
      </a>
    </div>
  </form>
</main>
{% endblock %}
